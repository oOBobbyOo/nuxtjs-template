<script setup lang="ts">
const state = reactive({
  debounce: '',
  copyData: '',
})

function throttleFn() {
  ElMessage.success('æˆ‘æ˜¯èŠ‚æµè§¦å‘çš„äº‹ä»¶ ğŸğŸ“ğŸŒ')
}

function debounceFn() {
  ElMessage.success('æˆ‘æ˜¯é˜²æŠ–è§¦å‘çš„äº‹ä»¶ ğŸğŸ“ğŸŒ')
}
</script>

<template>
  <Card title="è‡ªå®šä¹‰æŒ‡ä»¤">
    <div>
      <span class="my-2 block">v-throttle æŒ‡ä»¤ï¼š</span>
      <el-button
        v-throttle="{
          event: 'click',
          fn: throttleFn,
        }"
        type="primary"
      >
        èŠ‚æµæŒ‰é’® (æ¯éš”0.5Sç§’åæ‰§è¡Œ)
      </el-button>
    </div>

    <el-divider border-style="dashed" />

    <div>
      <span class="my-2 block">v-debounce æŒ‡ä»¤ï¼š</span>
      <div>
        <el-tag type="info">
          å»¶è¿Ÿé˜²æŠ–ï¼š
        </el-tag>
        <el-input
          v-model="state.debounce"
          v-debounce="{
            event: 'input',
            fn: debounceFn,
            delay: 1000,
          }"
          class="my-2"
          placeholder="è¯·è¾“å…¥å†…å®¹"
        />
      </div>

      <div>
        <el-tag type="info">
          ç«‹å³é˜²æŠ–ï¼š
        </el-tag>
        <el-input
          v-model="state.debounce"
          v-debounce="{
            event: 'input',
            fn: debounceFn,
            delay: 1000,
            immediate: true,
          }"
          class="my-2"
          placeholder="è¯·è¾“å…¥å†…å®¹"
        />
      </div>

      <el-button
        v-debounce="{
          event: 'click',
          fn: debounceFn,
          delay: 1000,
        }"
        type="primary"
      >
        é˜²æŠ–æŒ‰é’® (æ¯éš”1Sç§’åæ‰§è¡Œ)
      </el-button>
    </div>

    <el-divider border-style="dashed" />

    <div>
      <span class="my-2 block">v-copy æŒ‡ä»¤ï¼š</span>
      <el-input v-model="state.copyData" placeholder="è¯·è¾“å…¥éœ€è¦å¤åˆ¶çš„å†…å®¹">
        <template #append>
          <el-button v-copy="state.copyData">
            å¤åˆ¶
          </el-button>
        </template>
      </el-input>

      <span class="my-2 block">v-copy-to-clipboard æŒ‡ä»¤ï¼š</span>
      <el-input v-model="state.copyData" placeholder="è¯·è¾“å…¥éœ€è¦å¤åˆ¶çš„å†…å®¹">
        <template #append>
          <el-button v-copy-to-clipboard="state.copyData">
            å¤åˆ¶
          </el-button>
        </template>
      </el-input>
    </div>

    <el-divider border-style="dashed" />

    <div>
      <span class="my-2 block">v-click-outside æŒ‡ä»¤ï¼š</span>
      <el-button v-click-outside="() => ElMessage.success('ç‚¹å‡»äº†å¤–éƒ¨')">
        ç‚¹å‡»å¤–éƒ¨è§¦å‘
      </el-button>
    </div>
  </Card>
</template>

<style scoped></style>
